id: audios_node_data
label: Import audio content.
migration_group: audio_group
migration_tags:
  - CSV
# Source.
source:
  plugin: csv
  path: './import/csv/audio.csv'
  delimiter: ','
  enclosure: '"'
  header_row_count: 1
  keys:
    - id
  column_names:
    0:
      id: Id
    1:
      title: Title
    2:
      categories: Categories
    3:
      audio: Audio
    4:
      language: Language
    5:
      author: Author
# Process.
process:
  type:
    plugin: default_value
    default_value: moj_radio_item
  title: title
  field_moj_categories:
    -
      plugin: explode
      delimiter: ', '
      source: categories
    -
      plugin: migration
      migration: audios_cats
  field_moj_description: description
  field_moj_audio/target_id:
    plugin: migration
    migration: audios_audio
    source: audio
# Destination.
destination:
  plugin: entity:node
# Dependencies.
migration_dependencies:
  optional:
    - audios_audio
    - audios_image
    - audios_cats
    - audios_cat_image